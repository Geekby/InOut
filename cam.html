<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1">
		<title></title>
	</head>
	<body>
		<video style="position: absolute;left: 0px;top: 0px;object-fit: cover;" id="qr-video" width="100%" height="100%" autoplay="" playsinline muted></video>
		<script type="module">
			import QrScanner from "./qr-scanner.min.js";
			QrScanner.WORKER_PATH = './qr-scanner-worker.min.js';

			const video = document.getElementById('qr-video');
				
			function setResult(result) {
				alert(result);
			}

			// ####### Web Cam Scanning #######

			const scanner = new QrScanner(video, result => setResult(result));

			// for debugging
			window.scanner = scanner;

			scanner.start();

			// document.getElementById('stop-button').addEventListener('click', () => {
			//     scanner.stop();
			// });

		</script>
	</body>
</html>
